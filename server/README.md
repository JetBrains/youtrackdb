**YouTrackDB server** is an implementation of the Gremlin Server API.
YTDB server is distributed exclusively as a Docker image.
To install YTDB server, please use the following command.

```bash
docker run -p 8182:8182 \
 -v $(pwd)/secrets:/opt/ytdb-server/secrets \
 -v $(pwd)/databases:/opt/ytdb-server/databases \
 -v $(pwd)/conf:/opt/ytdb-server/conf \
 -v $(pwd)/log:/opt/ytdb-server/log \
 youtrackdb/youtrackdb-server
```

Directories mapped above have the following meaning:

- `secrets` - directory for storing `root_password` file.
  If you do not provide it, the server will not start. If you do not want to provide it in
  the separate file you can use `youtrackdb-server.yaml` configuration file instead.
- `databases` - directory for storing databases.
- `conf` - directory for storing configuration files. Currently, it stores only single file
  `youtrackdb-server.yaml`. It is not mandatory to provide the server configuration file. If it is not provided,
  the server will start with the default configuration.
- `log` - directory for storing logs.

Optionally, you can also mount for storing memory dumps generated by the
JVM in case of OOM : `/opt/ytdb-server/memory-dumps`

#### YouTrackDB server configuration

Except for the standard properties supported by the Gremlin Server,
YTDB server supports the following properties:
1. `users` : list of the server users with their roles. Each user is represented as a map with the following keys:
   - `name` : User name
   - `password` : User password
   - `resources` : List of resources that the user has access to, in the form of string 
    that contains the resource names separated by commas. Alternatively you can use the `*` wildcard 
   to allow access to all resources.
2. `properties` : List of properties that will be set on the server. 
Their names and values are represented as a map and have the same meaning as described in
`com.jetbrains.youtrackdb.api.config.GlobalConfiguration`.

#### Connection to the server

To connect to the server, please add dependency `io.youtrackdb:youtrackdb-driver:${ytdb-version}`
Then you can connect to the server using commands

```java

import com.jetbrains.youtrackdb.api.YourTracks;
var ytdb = YourTracks.instance("localhost", "username", "password");
var traversalSource = ytdb.openTraversal("dbName");
```
or

```java

var ytdb = YourTracks.instance("localhost");
var traversalSource = ytdb.openTraversal("dbName", "username", "password");
```

The difference between these two approaches is that the second one allows issuing queries using
users that are registered in the scope of the single database.

Users registered in the scope of the single database are ones that were provided during database creation in 
one of `YouTrackDB.create` methods.

Server level users are those that were provided either in the `users` property of the configuration file or
were created using `com.jetbrains.youtrackdb.api.YouTrackDB.createSystemUser(String, String, YouTrackDB.PredefinedSystemRole...)` 
method.